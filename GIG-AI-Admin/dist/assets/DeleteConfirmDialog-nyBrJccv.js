import{x as v,f as a,a as l,g as u,y as C,p as y,o as _,m as B,e as o,z as x,j as h,k as z}from"./index-xq2XRaRu.js";const L={class:"fixed inset-0 flex items-center justify-center overflow-y-auto z-99999"},N=v({__name:"Modal",props:{fullScreenBackdrop:{type:Boolean}},emits:["close"],setup(i){return(d,s)=>(l(),a("div",L,[d.fullScreenBackdrop?(l(),a("div",{key:0,class:"fixed inset-0 h-full w-full bg-gray-400/50 backdrop-blur-[32px]","aria-hidden":"true",onClick:s[0]||(s[0]=p=>d.$emit("close"))})):u("",!0),C(d.$slots,"body")]))}}),S={class:"flex items-start gap-3"},$={class:"flex-1 min-w-0"},M={class:"text-sm font-medium text-gray-900 dark:text-white mb-1"},O={class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},R={class:"flex gap-2"},j=["disabled"],E=["disabled"],V={key:0,class:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24"},W={key:1},D={key:2},A={__name:"DeleteConfirmDialog",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"确认删除"},description:{type:String,default:"此操作不可撤销，确定要删除吗？"},isLoading:{type:Boolean,default:!1},triggerRect:{type:Object,default:()=>({top:0,left:0,width:0,height:0})}},emits:["close","confirm"],setup(i,{emit:d}){const s=i,p=d,b=y(()=>{const e=s.triggerRect,t=320,n=120,r=8;let c=e.left+e.width/2-t/2;c<10&&(c=10),c+t>window.innerWidth-10&&(c=window.innerWidth-t-10);let g=e.top-n-r;return g<10&&(g=e.bottom+r),{left:`${c}px`,top:`${g}px`}}),w=y(()=>{const e=s.triggerRect,t=320,n=16;let r=e.left+e.width/2-(e.left+e.width/2-(e.left+e.width/2-t/2));return r<n&&(r=n),r>t-n&&(r=t-n),{left:`${r}px`,top:s.triggerRect.top>200?"-6px":"calc(100% - 6px)",transform:s.triggerRect.top>200?"rotate(45deg)":"rotate(225deg)"}}),m=e=>{e.key==="Escape"&&s.isOpen&&f()};_(()=>{document.addEventListener("keydown",m)}),B(()=>{document.removeEventListener("keydown",m)});const f=()=>{s.isLoading||p("close")},k=()=>{s.isLoading||p("confirm")};return(e,t)=>i.isOpen?(l(),a("div",{key:0,class:"fixed inset-0 z-50",onClick:f},[o("div",{class:"absolute bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 min-w-[280px] max-w-[320px]",style:x(b.value),onClick:t[0]||(t[0]=z(()=>{},["stop"]))},[o("div",{class:"absolute w-3 h-3 bg-white dark:bg-gray-800 border-l border-t border-gray-200 dark:border-gray-700 transform rotate-45",style:x(w.value)},null,4),o("div",S,[t[2]||(t[2]=o("div",{class:"flex-shrink-0 w-5 h-5 text-red-500 mt-0.5"},[o("svg",{fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),o("div",$,[o("p",M,h(i.title),1),o("p",O,h(i.description),1),o("div",R,[o("button",{onClick:f,disabled:i.isLoading,class:"flex-1 px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 取消 ",8,j),o("button",{onClick:k,disabled:i.isLoading,class:"flex-1 px-3 py-1.5 text-xs font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1"},[i.isLoading?(l(),a("svg",V,[...t[1]||(t[1]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):u("",!0),i.isLoading?(l(),a("span",W,"删除中")):(l(),a("span",D,"删除"))],8,E)])])])],4)])):u("",!0)}};export{N as _,A as a};
