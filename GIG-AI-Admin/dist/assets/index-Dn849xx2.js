import{r as m,w as ne,o as ie,c as _,a as f,b as l,t as y,d,e as a,g as D,f as b,h as s,u as n,F as A,i as $,j as c,n as ue,k as W,l as w,v as M,q as x}from"./index-xq2XRaRu.js";import{_ as ge,a as pe}from"./AdminLayout-B0_4BplP.js";import{_ as fe,f as me}from"./Primitive-B-hdltSd.js";import{_ as U}from"./Button.vue_vue_type_script_setup_true_lang-BOYf09sq.js";import{_ as X,a as ye}from"./DeleteConfirmDialog-nyBrJccv.js";import{_ as be,a as ce,b as P,c as h,d as we,e as v,f as ke,g as ve,h as xe,i as he,j as _e,k as Ae}from"./PaginationPrevious.vue_vue_type_script_setup_true_lang-DYzsThT8.js";import{g as Ce,a as $e,c as Ue,b as Ve,u as Se,d as je}from"./keywrods-C-vDhztC.js";import{a as Be}from"./index-gNOMr9Xr.js";import{P as Y}from"./platforms-DK9rrH31.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./http-VbNDWnN5.js";const De={class:"space-y-5 sm:space-y-6"},Te={class:"mb-4 flex items-center justify-between"},Me={class:"flex items-center justify-end gap-2"},ze=["onClick"],Re={key:0,class:"mt-4"},Ie={class:"relative z-10 w-full max-w-xl rounded-xl bg-white p-6 shadow-lg dark:bg-gray-900"},Oe={key:0},Fe=["value"],Ke=["value"],Le={class:"flex justify-end gap-3 pt-2"},Ne={class:"relative z-10 w-full max-w-xl rounded-xl bg-white p-6 shadow-lg dark:bg-gray-900"},Ee={key:0},Pe=["value"],qe=["value"],Je={class:"flex justify-end gap-3 pt-2"},lr={__name:"index",setup(Ge){const Z=m("关键词规则"),C=m([]),q=m(!1),z=m(null),k=m(""),V=m([]),S=m(1),J=m(20),R=m(0);function ee(){try{const o=localStorage.getItem("profile"),e=localStorage.getItem("role");o&&(z.value=JSON.parse(o)),e&&(k.value=e)}catch(o){console.error("获取用户信息失败:",o)}}async function I(){var o,e;try{const r=await Be(),u=Array.isArray(r)?r:(r==null?void 0:r.results)||[];V.value=u.map(t=>({id:t.id,name:t.username||t.name||`用户${t.id}`}))}catch(r){console.error("获取用户列表失败:",r),y.error("获取用户列表失败",{description:((e=(o=r.response)==null?void 0:o.data)==null?void 0:e.message)||r.message||"获取用户列表时发生错误"})}}function re(o){return{any:"任意匹配",all:"匹配全部",regex:"正则匹配"}[o]||"任意匹配"}async function j(){var o,e;try{q.value=!0;const r=await Ce({page:S.value,page_size:J.value}),u=r&&r.results?r.results:r,t=Array.isArray(u)?u:[];C.value=t.map(i=>({id:i.id,name:i.name||"",owner:i.owner!=null?i.owner:i.user_id??i.target_user??i.user??i.userId??"",owner_detail:i.owner_detail||null,provider:i.provider||i.platform||"twitter",keywords:Array.isArray(i.include_keywords)?i.include_keywords:Array.isArray(i.keywords)?i.keywords:typeof i.include_keywords=="string"?i.include_keywords.split(",").map(E=>E.trim()).filter(Boolean):typeof i.keywords=="string"?i.keywords.split(",").map(E=>E.trim()).filter(Boolean):[],match_mode:i.match_mode||"any",createdAt:i.created_at||i.createdAt||i.updated_at||i.updatedAt||"",enabled:typeof i.enabled=="boolean"?i.enabled:i.status?i.status==="启用":!0})),R.value=r.count||0}catch(r){console.error("Failed to fetch rules:",r),y.error("获取关键词规则失败",{description:((e=(o=r.response)==null?void 0:o.data)==null?void 0:e.message)||r.message||"获取关键词规则时发生错误"}),C.value=[]}finally{q.value=!1}}ne(S,()=>{j()}),ie(async()=>{try{ee(),k.value==="admin"?await Promise.all([I(),j()]):await j()}catch(o){console.error("fetch data failed",o)}});const O=m(!1),g=m({name:"",provider:"",owner_id:"",include_keywords:"",match_mode:"any",enabled:!0}),F=m(!1),G=m(!1),p=m({id:0,name:"",provider:"",owner_id:"",include_keywords:"",match_mode:"any",enabled:!0}),K=m(!1),T=m(!1),B=m(null),H=m({top:0,left:0,width:0,height:0});async function ae(){var o;O.value=!0,k.value==="user"&&((o=z.value)!=null&&o.id)&&(g.value.owner_id=z.value.id),k.value==="admin"&&V.value.length===0&&await I()}function L(){O.value=!1,g.value={name:"",provider:"twitter",owner_id:"",include_keywords:"",match_mode:"any",enabled:!0}}async function te(){var r,u;if(!g.value.name){y.error("配置名称不能为空",{description:"请输入配置名称"});return}if(k.value==="admin"&&!g.value.owner_id){y.error("目标用户不能为空",{description:"请选择目标用户"});return}if(!g.value.include_keywords){y.error("关键词不能为空",{description:"请输入关键词"});return}const o=g.value.include_keywords.split(",").map(t=>t.trim()).filter(Boolean),e={name:g.value.name,owner_id:g.value.owner_id,owner:g.value.owner_id,provider:g.value.provider,include_keywords:o,match_mode:g.value.match_mode,enabled:g.value.enabled};try{k.value==="user"?await Ue(e):await Ve(e),y.success("关键词规则创建成功"),await j(),L()}catch(t){console.error("create keywords config failed",t),y.error("创建失败",{description:((u=(r=t.response)==null?void 0:r.data)==null?void 0:u.message)||t.message||"创建关键词规则时发生错误"})}}function oe(o,e){B.value=o;const r=e.target.getBoundingClientRect();H.value={top:r.top,left:r.left,width:r.width,height:r.height,bottom:r.bottom},K.value=!0}async function le(){var o,e;if(B.value){T.value=!0;try{await je(String(B.value.id)),y.success("关键词规则删除成功"),C.value=C.value.filter(r=>r.id!==B.value.id),Q()}catch(r){console.error("delete keywords config failed",r),y.error("删除失败",{description:((e=(o=r.response)==null?void 0:o.data)==null?void 0:e.message)||r.message||"删除关键词规则时发生错误"})}finally{T.value=!1}}}function Q(){K.value=!1,B.value=null,T.value=!1}async function de(o){var e,r;F.value=!0,G.value=!0,k.value==="admin"&&V.value.length===0&&await I();try{const t=await $e(String(o.id))||{},i={id:t.id??o.id,name:t.name??o.name??"",owner_id:t.owner_id!=null?t.owner_id:t.owner!=null?t.owner:t.user_id??t.target_user??t.user??t.userId??o.owner??"",provider:t.provider??t.platform??o.provider??"twitter",include_keywords:Array.isArray(t.include_keywords)?t.include_keywords.join(", "):Array.isArray(t.keywords)?t.keywords.join(", "):typeof t.include_keywords=="string"?t.include_keywords:typeof t.keywords=="string"?t.keywords:Array.isArray(o.keywords)?o.keywords.join(", "):"",match_mode:t.match_mode??o.match_mode??"any",enabled:typeof t.enabled=="boolean"?t.enabled:t.status?t.status==="启用":o.enabled!=null?o.enabled:!0};p.value=i}catch(u){console.error("Failed to fetch rule detail:",u),y.error("获取规则详情失败",{description:((r=(e=u.response)==null?void 0:e.data)==null?void 0:r.message)||u.message||"获取规则详情时发生错误"})}finally{G.value=!1}}function N(){F.value=!1}async function se(){var r,u;if(!p.value.name){y.error("配置名称不能为空",{description:"请输入配置名称"});return}if(k.value==="admin"&&!p.value.owner_id){y.error("目标用户不能为空",{description:"请选择目标用户"});return}if(!p.value.include_keywords){y.error("关键词不能为空",{description:"请输入关键词"});return}const o=p.value.include_keywords.split(",").map(t=>t.trim()).filter(Boolean),e={name:p.value.name,owner_id:p.value.owner_id,owner:p.value.owner_id,provider:p.value.provider,include_keywords:o,match_mode:p.value.match_mode,enabled:p.value.enabled};try{await Se(String(p.value.id),e),y.success("关键词规则更新成功"),await j(),N()}catch(t){console.error("update keywords config failed",t),y.error("更新失败",{description:((u=(r=t.response)==null?void 0:r.data)==null?void 0:u.message)||t.message||"更新关键词规则时发生错误"})}}return(o,e)=>(f(),_(ge,null,{default:l(()=>[d(pe,{pageTitle:Z.value},null,8,["pageTitle"]),a("div",De,[d(fe,null,{default:l(()=>[a("div",Te,[e[14]||(e[14]=a("div",null,null,-1)),d(U,{size:"sm",onClick:ae},{default:l(()=>[...e[13]||(e[13]=[s("新增",-1)])]),_:1})]),d(n(be),{class:"[&_td]:py-3.5 [&_th]:py-3.5"},{default:l(()=>[d(n(ce),null,{default:l(()=>[d(n(P),null,{default:l(()=>[d(n(h),{class:"whitespace-nowrap"},{default:l(()=>[...e[15]||(e[15]=[s("ID",-1)])]),_:1}),d(n(h),{class:"whitespace-nowrap"},{default:l(()=>[...e[16]||(e[16]=[s("配置名称",-1)])]),_:1}),d(n(h),{class:"whitespace-nowrap"},{default:l(()=>[...e[17]||(e[17]=[s("目标用户",-1)])]),_:1}),d(n(h),{class:"whitespace-nowrap"},{default:l(()=>[...e[18]||(e[18]=[s("关键词",-1)])]),_:1}),d(n(h),{class:"whitespace-nowrap"},{default:l(()=>[...e[19]||(e[19]=[s("匹配模式",-1)])]),_:1}),d(n(h),{class:"whitespace-nowrap"},{default:l(()=>[...e[20]||(e[20]=[s("状态",-1)])]),_:1}),d(n(h),{class:"whitespace-nowrap"},{default:l(()=>[...e[21]||(e[21]=[s("创建时间",-1)])]),_:1}),d(n(h),{class:"whitespace-nowrap text-right"},{default:l(()=>[...e[22]||(e[22]=[s("操作",-1)])]),_:1})]),_:1})]),_:1}),d(n(we),null,{default:l(()=>[C.value.length?(f(!0),b(A,{key:0},$(C.value,r=>(f(),_(n(P),{key:r.id},{default:l(()=>[d(n(v),{class:"whitespace-nowrap"},{default:l(()=>[s(c(r.id),1)]),_:2},1024),d(n(v),{class:"whitespace-nowrap"},{default:l(()=>[s(c(r.name||"-"),1)]),_:2},1024),d(n(v),{class:"whitespace-nowrap"},{default:l(()=>{var u;return[s(c(((u=r.owner_detail)==null?void 0:u.username)||"-"),1)]}),_:2},1024),d(n(v),{class:"max-w-[320px] truncate",title:r.keywords.join(", ")},{default:l(()=>[s(c(r.keywords.join(", ")),1)]),_:2},1032,["title"]),d(n(v),{class:"whitespace-nowrap"},{default:l(()=>[s(c(re(r.match_mode)),1)]),_:2},1024),d(n(v),{class:"whitespace-nowrap"},{default:l(()=>[a("span",{class:ue(["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ring-1 ring-inset",r.enabled?"bg-emerald-50 text-emerald-600 ring-emerald-200 dark:bg-emerald-500/10 dark:text-emerald-400 dark:ring-emerald-500/30":"bg-rose-50 text-rose-600 ring-rose-200 dark:bg-rose-500/10 dark:text-rose-400 dark:ring-rose-500/30"])},c(r.enabled?"启用":"停用"),3)]),_:2},1024),d(n(v),{class:"whitespace-nowrap"},{default:l(()=>[s(c(n(me)(r.createdAt||r.updatedAt)),1)]),_:2},1024),d(n(v),{class:"text-right whitespace-nowrap"},{default:l(()=>[a("div",Me,[d(U,{size:"sm",variant:"outline",onClick:u=>de(r)},{default:l(()=>[...e[23]||(e[23]=[s("编辑",-1)])]),_:1},8,["onClick"]),a("button",{class:"inline-flex items-center justify-center font-medium gap-2 rounded-lg transition px-4 py-3 text-sm bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300 text-rose-600 ring-rose-200 hover:bg-rose-50 dark:text-rose-400 dark:ring-rose-500/30",onClick:u=>oe(r,u)}," 删除 ",8,ze)])]),_:2},1024)]),_:2},1024))),128)):(f(),_(n(P),{key:1},{default:l(()=>[d(n(v),{colspan:7,class:"py-16 text-center text-gray-400 dark:text-white/50"},{default:l(()=>[...e[24]||(e[24]=[s("暂无数据",-1)])]),_:1})]),_:1}))]),_:1})]),_:1}),R.value>0?(f(),b("div",Re,[d(n(ke),{page:S.value,"onUpdate:page":e[0]||(e[0]=r=>S.value=r),total:R.value,"items-per-page":J.value,"sibling-count":1},{default:l(()=>[d(n(ve),null,{default:l(({items:r})=>[d(n(xe)),(f(!0),b(A,null,$(r,(u,t)=>(f(),b(A,{key:t},[u.type==="page"?(f(),_(n(he),{key:0,value:u.value,"is-active":u.value===S.value},{default:l(()=>[s(c(u.value),1)]),_:2},1032,["value","is-active"])):(f(),_(n(_e),{key:1,index:t},null,8,["index"]))],64))),128)),d(n(Ae))]),_:1})]),_:1},8,["page","total","items-per-page"])])):D("",!0)]),_:1}),O.value?(f(),_(X,{key:0,fullScreenBackdrop:!0,onClose:L},{body:l(()=>[a("div",Ie,[e[37]||(e[37]=a("h3",{class:"mb-4 text-lg font-semibold"},"新增关键词规则",-1)),a("form",{onSubmit:W(te,["prevent"]),class:"space-y-4"},[a("div",null,[e[25]||(e[25]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("配置名称"),a("span",{class:"text-error-500"},"*")],-1)),w(a("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>g.value.name=r),type:"text",placeholder:"请输入配置名称",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[M,g.value.name]])]),k.value==="admin"?(f(),b("div",Oe,[e[27]||(e[27]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("目标用户"),a("span",{class:"text-error-500"},"*")],-1)),w(a("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>g.value.owner_id=r),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[e[26]||(e[26]=a("option",{value:"",disabled:""},"请选择用户",-1)),(f(!0),b(A,null,$(V.value,r=>(f(),b("option",{key:r.id,value:r.id},c(r.name),9,Fe))),128))],512),[[x,g.value.owner_id]])])):D("",!0),a("div",null,[e[29]||(e[29]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("平台"),a("span",{class:"text-error-500"},"*")],-1)),w(a("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>g.value.provider=r),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[e[28]||(e[28]=a("option",{value:""},"请选择平台",-1)),(f(!0),b(A,null,$(n(Y),r=>(f(),b("option",{key:r.value,value:r.value},c(r.label),9,Ke))),128))],512),[[x,g.value.provider]])]),a("div",null,[e[30]||(e[30]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("关键词（逗号分隔）"),a("span",{class:"text-error-500"},"*")],-1)),w(a("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>g.value.include_keywords=r),type:"text",placeholder:"如：差评, 垃圾, 退款",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[M,g.value.include_keywords]])]),a("div",null,[e[32]||(e[32]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("匹配模式"),a("span",{class:"text-error-500"},"*")],-1)),w(a("select",{"onUpdate:modelValue":e[5]||(e[5]=r=>g.value.match_mode=r),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[...e[31]||(e[31]=[a("option",{value:"any"},"任意匹配",-1),a("option",{value:"all"},"匹配全部",-1),a("option",{value:"regex"},"正则匹配",-1)])],512),[[x,g.value.match_mode]])]),a("div",null,[e[34]||(e[34]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"是否启用",-1)),w(a("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>g.value.enabled=r),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[...e[33]||(e[33]=[a("option",{value:!0},"启用",-1),a("option",{value:!1},"停用",-1)])],512),[[x,g.value.enabled]])]),a("div",Le,[d(U,{type:"button",variant:"outline",onClick:L},{default:l(()=>[...e[35]||(e[35]=[s("取消",-1)])]),_:1}),d(U,{type:"submit"},{default:l(()=>[...e[36]||(e[36]=[s("保存",-1)])]),_:1})])],32)])]),_:1})):D("",!0),F.value?(f(),_(X,{key:1,fullScreenBackdrop:!0,onClose:N},{body:l(()=>[a("div",Ne,[e[50]||(e[50]=a("h3",{class:"mb-4 text-lg font-semibold"},"编辑关键词规则",-1)),a("form",{onSubmit:W(se,["prevent"]),class:"space-y-4"},[a("div",null,[e[38]||(e[38]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("配置名称"),a("span",{class:"text-error-500"},"*")],-1)),w(a("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>p.value.name=r),type:"text",placeholder:"请输入配置名称",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[M,p.value.name]])]),k.value==="admin"?(f(),b("div",Ee,[e[40]||(e[40]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("目标用户"),a("span",{class:"text-error-500"},"*")],-1)),w(a("select",{"onUpdate:modelValue":e[8]||(e[8]=r=>p.value.owner_id=r),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[e[39]||(e[39]=a("option",{value:"",disabled:""},"请选择用户",-1)),(f(!0),b(A,null,$(V.value,r=>(f(),b("option",{key:r.id,value:r.id},c(r.name),9,Pe))),128))],512),[[x,p.value.owner_id]])])):D("",!0),a("div",null,[e[42]||(e[42]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("平台"),a("span",{class:"text-error-500"},"*")],-1)),w(a("select",{"onUpdate:modelValue":e[9]||(e[9]=r=>p.value.provider=r),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[e[41]||(e[41]=a("option",{value:""},"请选择平台",-1)),(f(!0),b(A,null,$(n(Y),r=>(f(),b("option",{key:r.value,value:r.value},c(r.label),9,qe))),128))],512),[[x,p.value.provider]])]),a("div",null,[e[43]||(e[43]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("关键词（逗号分隔）"),a("span",{class:"text-error-500"},"*")],-1)),w(a("input",{"onUpdate:modelValue":e[10]||(e[10]=r=>p.value.include_keywords=r),type:"text",placeholder:"如：差评, 垃圾, 退款",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[M,p.value.include_keywords]])]),a("div",null,[e[45]||(e[45]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[s("匹配模式"),a("span",{class:"text-error-500"},"*")],-1)),w(a("select",{"onUpdate:modelValue":e[11]||(e[11]=r=>p.value.match_mode=r),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[...e[44]||(e[44]=[a("option",{value:"any"},"任意匹配",-1),a("option",{value:"all"},"匹配全部",-1),a("option",{value:"regex"},"正则匹配",-1)])],512),[[x,p.value.match_mode]])]),a("div",null,[e[47]||(e[47]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"是否启用",-1)),w(a("select",{"onUpdate:modelValue":e[12]||(e[12]=r=>p.value.enabled=r),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[...e[46]||(e[46]=[a("option",{value:!0},"启用",-1),a("option",{value:!1},"停用",-1)])],512),[[x,p.value.enabled]])]),a("div",Je,[d(U,{type:"button",variant:"outline",onClick:N},{default:l(()=>[...e[48]||(e[48]=[s("取消",-1)])]),_:1}),d(U,{type:"submit"},{default:l(()=>[...e[49]||(e[49]=[s("保存",-1)])]),_:1})])],32)])]),_:1})):D("",!0),d(ye,{isOpen:K.value,title:"删除",description:"确定要删除吗？此操作不可撤销。",isLoading:T.value,triggerRect:H.value,onClose:Q,onConfirm:le},null,8,["isOpen","isLoading","triggerRect"])])]),_:1}))}};export{lr as default};
