import{q as B,r as D,w as X,G as oe,m as We,H as Yt,x as q,B as je,I as ft,E as Gt,y as W,u as y,J as ee,K as he,L as mt,c as R,a as S,b as T,z as gt,o as Be,d as G,A as te,g as we,T as Xt,C as Jt,D as Zt,k as yt,M as Qt,N as ea,e as l,t as U,O as ta,s as aa,l as z,h as V,f as de,F as rt,i as nt,j as $e,p as Fe,v as Z}from"./index-C_WH1cgn.js";import{_ as ra,a as na}from"./AdminLayout-aCla68Vk.js";import{b as He,h as oa,t as sa,i as xe,j as ot,k as la,l as bt,m as ia,n as ua,a as da,u as se,o as ca,P as ze,p as pa,q as Ve,s as va,d as ht,r as fa,c as wt,_ as ma}from"./Primitive-rbbPGzXt.js";import{_ as st}from"./Button.vue_vue_type_script_setup_true_lang-C7mE4dwR.js";import{i as ga,j as ya,u as ba,k as ha,l as wa,m as xa}from"./platform-CK4kvyLZ.js";import{a as ka}from"./index-D6Vgu1Lv.js";import{P as _a}from"./platforms-DK9rrH31.js";import{_ as xt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./http-BKvr1fmS.js";function ne(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function kt(e,t,r){const n=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),n.dispatchEvent(o)}const[Oa,Pn]=He("ConfigProvider");function Re(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function Ue(e,t,r=".",n){if(!Re(t))return Ue(e,{},r,n);const o=Object.assign({},t);for(const u in e){if(u==="__proto__"||u==="constructor")continue;const c=e[u];c!=null&&(n&&n(o,u,c,r)||(Array.isArray(c)&&Array.isArray(o[u])?o[u]=[...c,...o[u]]:Re(c)&&Re(o[u])?o[u]=Ue(c,o[u],(r?`${r}.`:"")+u.toString(),n):o[u]=c))}return o}function Da(e){return(...t)=>t.reduce((r,n)=>Ue(r,n,"",e),{})}const Ea=Da(),$a=oa(()=>{const e=D(new Map),t=D(),r=B(()=>{for(const c of e.value.values())if(c)return!0;return!1}),n=Oa({scrollBody:D(!0)});let o=null;const u=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",ot&&(o==null||o()),t.value=void 0};return X(r,(c,s)=>{var a;if(!xe)return;if(!c){s&&u();return}t.value===void 0&&(t.value=document.body.style.overflow);const p=window.innerWidth-document.documentElement.clientWidth,g={padding:p,margin:0},v=(a=n.scrollBody)!=null&&a.value?typeof n.scrollBody.value=="object"?Ea({padding:n.scrollBody.value.padding===!0?p:n.scrollBody.value.padding,margin:n.scrollBody.value.margin===!0?p:n.scrollBody.value.margin},g):g:{padding:0,margin:0};p>0&&(document.body.style.paddingRight=typeof v.padding=="number"?`${v.padding}px`:String(v.padding),document.body.style.marginRight=typeof v.margin=="number"?`${v.margin}px`:String(v.margin),document.documentElement.style.setProperty("--scrollbar-width",`${p}px`),document.body.style.overflow="hidden"),ot&&(o=la(document,"touchmove",f=>Pa(f),{passive:!1})),oe(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Sa(e){const t=Math.random().toString(36).substring(2,7),r=$a();r.value.set(t,e);const n=B({get:()=>r.value.get(t)??!1,set:o=>r.value.set(t,o)});return sa(()=>{r.value.delete(t)}),n}function _t(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const r=e.parentNode;return!(r instanceof Element)||r.tagName==="BODY"?!1:_t(r)}}function Pa(e){const t=e||window.event,r=t.target;return r instanceof Element&&_t(r)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var Aa=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fe=new WeakMap,Se=new WeakMap,Pe={},Ne=0,Ot=function(e){return e&&(e.host||Ot(e.parentNode))},Ta=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Ot(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Ca=function(e,t,r,n){var o=Ta(t,Array.isArray(e)?e:[e]);Pe[r]||(Pe[r]=new WeakMap);var u=Pe[r],c=[],s=new Set,p=new Set(o),g=function(a){!a||s.has(a)||(s.add(a),g(a.parentNode))};o.forEach(g);var v=function(a){!a||p.has(a)||Array.prototype.forEach.call(a.children,function(f){if(s.has(f))v(f);else try{var k=f.getAttribute(n),m=k!==null&&k!=="false",b=(fe.get(f)||0)+1,_=(u.get(f)||0)+1;fe.set(f,b),u.set(f,_),c.push(f),b===1&&m&&Se.set(f,!0),_===1&&f.setAttribute(r,"true"),m||f.setAttribute(n,"true")}catch(i){console.error("aria-hidden: cannot operate on ",f,i)}})};return v(t),s.clear(),Ne++,function(){c.forEach(function(a){var f=fe.get(a)-1,k=u.get(a)-1;fe.set(a,f),u.set(a,k),f||(Se.has(a)||a.removeAttribute(n),Se.delete(a)),k||a.removeAttribute(r)}),Ne--,Ne||(fe=new WeakMap,fe=new WeakMap,Se=new WeakMap,Pe={})}},Ba=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Aa(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),Ca(n,o,r,"aria-hidden")):function(){return null}};function Ia(e){let t;X(()=>bt(e),r=>{r?t=Ba(r):t&&t()}),We(()=>{t&&t()})}function lt(e,t="reka"){var r;return`${t}-${(r=Yt)==null?void 0:r()}`}function Fa(e,t){const r=D(e);function n(u){return t[r.value][u]??r.value}return{state:r,dispatch:u=>{r.value=n(u)}}}function Ra(e,t){var _;const r=D({}),n=D("none"),o=D(e),u=e.value?"mounted":"unmounted";let c;const s=((_=t.value)==null?void 0:_.ownerDocument.defaultView)??ia,{state:p,dispatch:g}=Fa(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),v=i=>{var d;if(xe){const x=new CustomEvent(i,{bubbles:!1,cancelable:!1});(d=t.value)==null||d.dispatchEvent(x)}};X(e,async(i,d)=>{var h;const x=d!==i;if(await oe(),x){const w=n.value,E=Ae(t.value);i?(g("MOUNT"),v("enter"),E==="none"&&v("after-enter")):E==="none"||E==="undefined"||((h=r.value)==null?void 0:h.display)==="none"?(g("UNMOUNT"),v("leave"),v("after-leave")):d&&w!==E?(g("ANIMATION_OUT"),v("leave")):(g("UNMOUNT"),v("after-leave"))}},{immediate:!0});const a=i=>{const d=Ae(t.value),x=d.includes(i.animationName),h=p.value==="mounted"?"enter":"leave";if(i.target===t.value&&x&&(v(`after-${h}`),g("ANIMATION_END"),!o.value)){const w=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",c=s==null?void 0:s.setTimeout(()=>{var E;((E=t.value)==null?void 0:E.style.animationFillMode)==="forwards"&&(t.value.style.animationFillMode=w)})}i.target===t.value&&d==="none"&&g("ANIMATION_END")},f=i=>{i.target===t.value&&(n.value=Ae(t.value))},k=X(t,(i,d)=>{i?(r.value=getComputedStyle(i),i.addEventListener("animationstart",f),i.addEventListener("animationcancel",a),i.addEventListener("animationend",a)):(g("ANIMATION_END"),c!==void 0&&(s==null||s.clearTimeout(c)),d==null||d.removeEventListener("animationstart",f),d==null||d.removeEventListener("animationcancel",a),d==null||d.removeEventListener("animationend",a))},{immediate:!0}),m=X(p,()=>{const i=Ae(t.value);n.value=p.value==="mounted"?i:"none"});return We(()=>{k(),m()}),{isPresent:B(()=>["mounted","unmountSuspended"].includes(p.value))}}function Ae(e){return e&&getComputedStyle(e).animationName||"none"}var Dt=q({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:r}){var g;const{present:n,forceMount:o}=je(e),u=D(),{isPresent:c}=Ra(n,u);r({present:c});let s=t.default({present:c.value});s=ua(s||[]);const p=ft();if(s&&(s==null?void 0:s.length)>1){const v=(g=p==null?void 0:p.parent)!=null&&g.type.name?`<${p.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${v}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(a=>`  - ${a}`).join(`
`)].join(`
`))}return()=>o.value||n.value||c.value?Gt(t.default({present:c.value})[0],{ref:v=>{const a=bt(v);return typeof(a==null?void 0:a.hasAttribute)>"u"||(a!=null&&a.hasAttribute("data-reka-popper-content-wrapper")?u.value=a.firstElementChild:u.value=a),a}}):null}});const[me,Na]=He("DialogRoot");var Ma=q({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const r=e,o=da(r,"open",t,{defaultValue:r.defaultOpen,passive:r.open===void 0}),u=D(),c=D(),{modal:s}=je(r);return Na({open:o,modal:s,openModal:()=>{o.value=!0},onOpenChange:p=>{o.value=p},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:u,contentElement:c}),(p,g)=>W(p.$slots,"default",{open:y(o),close:()=>o.value=!1})}}),qa=Ma;const La="dismissableLayer.pointerDownOutside",Ua="dismissableLayer.focusOutside";function Et(e,t){const r=t.closest("[data-dismissable-layer]"),n=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),o=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(r&&(n===r||o.indexOf(n)<o.indexOf(r)))}function Wa(e,t,r=!0){var c;const n=((c=t==null?void 0:t.value)==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),o=D(!1),u=D(()=>{});return ee(s=>{if(!xe||!he(r))return;const p=async v=>{const a=v.target;if(!(!(t!=null&&t.value)||!a)){if(Et(t.value,a)){o.value=!1;return}if(v.target&&!o.value){let k=function(){kt(La,e,f)};const f={originalEvent:v};v.pointerType==="touch"?(n.removeEventListener("click",u.value),u.value=k,n.addEventListener("click",u.value,{once:!0})):k()}else n.removeEventListener("click",u.value);o.value=!1}},g=window.setTimeout(()=>{n.addEventListener("pointerdown",p)},0);s(()=>{window.clearTimeout(g),n.removeEventListener("pointerdown",p),n.removeEventListener("click",u.value)})}),{onPointerDownCapture:()=>{he(r)&&(o.value=!0)}}}function ja(e,t,r=!0){var u;const n=((u=t==null?void 0:t.value)==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),o=D(!1);return ee(c=>{if(!xe||!he(r))return;const s=async p=>{if(!(t!=null&&t.value))return;await oe(),await oe();const g=p.target;!t.value||!g||Et(t.value,g)||p.target&&!o.value&&kt(Ua,e,{originalEvent:p})};n.addEventListener("focusin",s),c(()=>n.removeEventListener("focusin",s))}),{onFocusCapture:()=>{he(r)&&(o.value=!0)},onBlurCapture:()=>{he(r)&&(o.value=!1)}}}const Q=mt({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var Ha=q({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const r=e,n=t,{forwardRef:o,currentElement:u}=se(),c=B(()=>{var m;return((m=u.value)==null?void 0:m.ownerDocument)??globalThis.document}),s=B(()=>Q.layersRoot),p=B(()=>u.value?Array.from(s.value).indexOf(u.value):-1),g=B(()=>Q.layersWithOutsidePointerEventsDisabled.size>0),v=B(()=>{const m=Array.from(s.value),[b]=[...Q.layersWithOutsidePointerEventsDisabled].slice(-1),_=m.indexOf(b);return p.value>=_}),a=Wa(async m=>{const b=[...Q.branches].some(_=>_==null?void 0:_.contains(m.target));!v.value||b||(n("pointerDownOutside",m),n("interactOutside",m),await oe(),m.defaultPrevented||n("dismiss"))},u),f=ja(m=>{[...Q.branches].some(_=>_==null?void 0:_.contains(m.target))||(n("focusOutside",m),n("interactOutside",m),m.defaultPrevented||n("dismiss"))},u);ca("Escape",m=>{p.value===s.value.size-1&&(n("escapeKeyDown",m),m.defaultPrevented||n("dismiss"))});let k;return ee(m=>{u.value&&(r.disableOutsidePointerEvents&&(Q.layersWithOutsidePointerEventsDisabled.size===0&&(k=c.value.body.style.pointerEvents,c.value.body.style.pointerEvents="none"),Q.layersWithOutsidePointerEventsDisabled.add(u.value)),s.value.add(u.value),m(()=>{r.disableOutsidePointerEvents&&Q.layersWithOutsidePointerEventsDisabled.size===1&&(c.value.body.style.pointerEvents=k)}))}),ee(m=>{m(()=>{u.value&&(s.value.delete(u.value),Q.layersWithOutsidePointerEventsDisabled.delete(u.value))})}),(m,b)=>(S(),R(y(ze),{ref:y(o),"as-child":m.asChild,as:m.as,"data-dismissable-layer":"",style:gt({pointerEvents:g.value?v.value?"auto":"none":void 0}),onFocusCapture:y(f).onFocusCapture,onBlurCapture:y(f).onBlurCapture,onPointerdownCapture:y(a).onPointerDownCapture},{default:T(()=>[W(m.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),za=Ha;const Va=pa(()=>D([]));function Ka(){const e=Va();return{add(t){const r=e.value[0];t!==r&&(r==null||r.pause()),e.value=it(e.value,t),e.value.unshift(t)},remove(t){var r;e.value=it(e.value,t),(r=e.value[0])==null||r.resume()}}}function it(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ya(e){return e.filter(t=>t.tagName!=="A")}const Me="focusScope.autoFocusOnMount",qe="focusScope.autoFocusOnUnmount",ut={bubbles:!1,cancelable:!0};function Ga(e,{select:t=!1}={}){const r=ne();for(const n of e)if(re(n,{select:t}),ne()!==r)return!0}function Xa(e){const t=$t(e),r=dt(t,e),n=dt(t.reverse(),e);return[r,n]}function $t(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dt(e,t){for(const r of e)if(!Ja(r,{upTo:t}))return r}function Ja(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Za(e){return e instanceof HTMLInputElement&&"select"in e}function re(e,{select:t=!1}={}){if(e&&e.focus){const r=ne();e.focus({preventScroll:!0}),e!==r&&Za(e)&&t&&e.select()}}var Qa=q({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const r=e,n=t,{currentRef:o,currentElement:u}=se(),c=D(null),s=Ka(),p=mt({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});ee(v=>{if(!xe)return;const a=u.value;if(!r.trapped)return;function f(_){if(p.paused||!a)return;const i=_.target;a.contains(i)?c.value=i:re(c.value,{select:!0})}function k(_){if(p.paused||!a)return;const i=_.relatedTarget;i!==null&&(a.contains(i)||re(c.value,{select:!0}))}function m(_){a.contains(c.value)||re(a)}document.addEventListener("focusin",f),document.addEventListener("focusout",k);const b=new MutationObserver(m);a&&b.observe(a,{childList:!0,subtree:!0}),v(()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",k),b.disconnect()})}),ee(async v=>{const a=u.value;if(await oe(),!a)return;s.add(p);const f=ne();if(!a.contains(f)){const m=new CustomEvent(Me,ut);a.addEventListener(Me,b=>n("mountAutoFocus",b)),a.dispatchEvent(m),m.defaultPrevented||(Ga(Ya($t(a)),{select:!0}),ne()===f&&re(a))}v(()=>{a.removeEventListener(Me,_=>n("mountAutoFocus",_));const m=new CustomEvent(qe,ut),b=_=>{n("unmountAutoFocus",_)};a.addEventListener(qe,b),a.dispatchEvent(m),setTimeout(()=>{m.defaultPrevented||re(f??document.body,{select:!0}),a.removeEventListener(qe,b),s.remove(p)},0)})});function g(v){if(!r.loop&&!r.trapped||p.paused)return;const a=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,f=ne();if(a&&f){const k=v.currentTarget,[m,b]=Xa(k);m&&b?!v.shiftKey&&f===b?(v.preventDefault(),r.loop&&re(m,{select:!0})):v.shiftKey&&f===m&&(v.preventDefault(),r.loop&&re(b,{select:!0})):f===k&&v.preventDefault()}}return(v,a)=>(S(),R(y(ze),{ref_key:"currentRef",ref:o,tabindex:"-1","as-child":v.asChild,as:v.as,onKeydown:g},{default:T(()=>[W(v.$slots,"default")]),_:3},8,["as-child","as"]))}}),er=Qa;function tr(e){return e?"open":"closed"}var ar=q({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const r=e,n=t,o=me(),{forwardRef:u,currentElement:c}=se();return o.titleId||(o.titleId=lt(void 0,"reka-dialog-title")),o.descriptionId||(o.descriptionId=lt(void 0,"reka-dialog-description")),Be(()=>{o.contentElement=c,ne()!==document.body&&(o.triggerElement.value=ne())}),(s,p)=>(S(),R(y(er),{"as-child":"",loop:"",trapped:r.trapFocus,onMountAutoFocus:p[5]||(p[5]=g=>n("openAutoFocus",g)),onUnmountAutoFocus:p[6]||(p[6]=g=>n("closeAutoFocus",g))},{default:T(()=>[G(y(za),te({id:y(o).contentId,ref:y(u),as:s.as,"as-child":s.asChild,"disable-outside-pointer-events":s.disableOutsidePointerEvents,role:"dialog","aria-describedby":y(o).descriptionId,"aria-labelledby":y(o).titleId,"data-state":y(tr)(y(o).open.value)},s.$attrs,{onDismiss:p[0]||(p[0]=g=>y(o).onOpenChange(!1)),onEscapeKeyDown:p[1]||(p[1]=g=>n("escapeKeyDown",g)),onFocusOutside:p[2]||(p[2]=g=>n("focusOutside",g)),onInteractOutside:p[3]||(p[3]=g=>n("interactOutside",g)),onPointerDownOutside:p[4]||(p[4]=g=>n("pointerDownOutside",g))}),{default:T(()=>[W(s.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),St=ar,rr=q({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const r=e,n=t,o=me(),u=Ve(n),{forwardRef:c,currentElement:s}=se();return Ia(s),(p,g)=>(S(),R(St,te({...r,...y(u)},{ref:y(c),"trap-focus":y(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:g[0]||(g[0]=v=>{var a;v.defaultPrevented||(v.preventDefault(),(a=y(o).triggerElement.value)==null||a.focus())}),onPointerDownOutside:g[1]||(g[1]=v=>{const a=v.detail.originalEvent,f=a.button===0&&a.ctrlKey===!0;(a.button===2||f)&&v.preventDefault()}),onFocusOutside:g[2]||(g[2]=v=>{v.preventDefault()})}),{default:T(()=>[W(p.$slots,"default")]),_:3},16,["trap-focus"]))}}),nr=rr,or=q({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const r=e,o=Ve(t);se();const u=me(),c=D(!1),s=D(!1);return(p,g)=>(S(),R(St,te({...r,...y(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:g[0]||(g[0]=v=>{var a;v.defaultPrevented||(c.value||(a=y(u).triggerElement.value)==null||a.focus(),v.preventDefault()),c.value=!1,s.value=!1}),onInteractOutside:g[1]||(g[1]=v=>{var k;v.defaultPrevented||(c.value=!0,v.detail.originalEvent.type==="pointerdown"&&(s.value=!0));const a=v.target;((k=y(u).triggerElement.value)==null?void 0:k.contains(a))&&v.preventDefault(),v.detail.originalEvent.type==="focusin"&&s.value&&v.preventDefault()})}),{default:T(()=>[W(p.$slots,"default")]),_:3},16))}}),sr=or,lr=q({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const r=e,n=t,o=me(),u=Ve(n),{forwardRef:c}=se();return(s,p)=>(S(),R(y(Dt),{present:s.forceMount||y(o).open.value},{default:T(()=>[y(o).modal.value?(S(),R(nr,te({key:0,ref:y(c)},{...r,...y(u),...s.$attrs}),{default:T(()=>[W(s.$slots,"default")]),_:3},16)):(S(),R(sr,te({key:1,ref:y(c)},{...r,...y(u),...s.$attrs}),{default:T(()=>[W(s.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),ir=lr,ur=q({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=me();return Sa(!0),se(),(r,n)=>(S(),R(y(ze),{as:r.as,"as-child":r.asChild,"data-state":y(t).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:T(()=>[W(r.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),dr=ur,cr=q({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=me(),{forwardRef:r}=se();return(n,o)=>{var u;return(u=y(t))!=null&&u.modal.value?(S(),R(y(Dt),{key:0,present:n.forceMount||y(t).open.value},{default:T(()=>[G(dr,te(n.$attrs,{ref:y(r),as:n.as,"as-child":n.asChild}),{default:T(()=>[W(n.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):we("v-if",!0)}}}),pr=cr,vr=q({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=va();return(r,n)=>y(t)||r.forceMount?(S(),R(Xt,{key:0,to:r.to,disabled:r.disabled,defer:r.defer},[W(r.$slots,"default")],8,["to","disabled","defer"])):we("v-if",!0)}}),fr=vr,mr=q({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(r,n)=>(S(),R(y(fr),Jt(Zt(t)),{default:T(()=>[W(r.$slots,"default")]),_:3},16))}}),gr=mr;(function(){var e;try{if(typeof document<"u"){var t=document.createElement("style");t.nonce=(e=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:e.content,t.appendChild(document.createTextNode('[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32,.72,0,1);animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform, 100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform, 100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height, 0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height, 0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true]):after{content:"";position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]:after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]:after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]:after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]:after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:hover,[data-vaul-handle]:active{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover: hover) and (pointer: fine){[data-vaul-drawer]{-webkit-user-select:none;user-select:none}}@media (pointer: fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{0%{transform:translate3d(0,var(--initial-transform, 100%),0)}to{transform:translateZ(0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform, 100%),0)}}@keyframes slideFromTop{0%{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}to{transform:translateZ(0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}}@keyframes slideFromLeft{0%{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}to{transform:translateZ(0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}}@keyframes slideFromRight{0%{transform:translate3d(var(--initial-transform, 100%),0,0)}to{transform:translateZ(0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform, 100%),0,0)}}')),document.head.appendChild(t)}}catch(r){console.error("vite-plugin-css-injected-by-js",r)}})();const yr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const br=e=>typeof e<"u";function hr(e){return JSON.parse(JSON.stringify(e))}function ct(e,t,r,n={}){var o,u,c;const{clone:s=!1,passive:p=!1,eventName:g,deep:v=!1,defaultValue:a,shouldEmit:f}=n,k=ft(),m=r||(k==null?void 0:k.emit)||((o=k==null?void 0:k.$emit)==null?void 0:o.bind(k))||((c=(u=k==null?void 0:k.proxy)==null?void 0:u.$emit)==null?void 0:c.bind(k==null?void 0:k.proxy));let b=g;t||(t="modelValue"),b=b||`update:${t.toString()}`;const _=x=>s?typeof s=="function"?s(x):hr(x):x,i=()=>br(e[t])?_(e[t]):a,d=x=>{f?f(x)&&m(b,x):m(b,x)};if(p){const x=i(),h=D(x);let w=!1;return X(()=>e[t],E=>{w||(w=!0,h.value=_(E),oe(()=>w=!1))}),X(h,E=>{!w&&(E!==e[t]||v)&&d(E)},{deep:v}),h}else return B({get(){return i()},set(x){d(x)}})}const[Ke,wr]=He("DrawerRoot"),Pt=new WeakMap;function M(e,t,r=!1){if(!e||!(e instanceof HTMLElement)||!t)return;const n={};Object.entries(t).forEach(([o,u])=>{if(o.startsWith("--")){e.style.setProperty(o,u);return}n[o]=e.style[o],e.style[o]=u}),!r&&Pt.set(e,n)}function xr(e,t){if(!e||!(e instanceof HTMLElement))return;const r=Pt.get(e);r&&Object.entries(r).forEach(([n,o])=>{e.style[n]=o})}function Te(e,t){const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let o=n.match(/^matrix3d\((.+)\)$/);return o?Number.parseFloat(o[1].split(", ")[F(t)?13:12]):(o=n.match(/^matrix\((.+)\)$/),o?Number.parseFloat(o[1].split(", ")[F(t)?5:4]):null)}function kr(e){return 8*(Math.log(e+1)-2)}function F(e){switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}}function Le(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function _r(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const C={DURATION:.5,EASE:[.32,.72,0,1]},At=.4,Or=.25,Dr=100,Tt=8,Ce=16,Ct=26,pt="vaul-dragging";function Er({activeSnapPoint:e,snapPoints:t,drawerRef:r,overlayRef:n,fadeFromIndex:o,onSnapPointChange:u,direction:c}){const s=D(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);function p(){s.value={innerWidth:window.innerWidth,innerHeight:window.innerHeight}}Be(()=>{typeof window<"u"&&window.addEventListener("resize",p)}),ea(()=>{typeof window<"u"&&window.removeEventListener("resize",p)});const g=B(()=>(t.value&&e.value===t.value[t.value.length-1])??null),v=B(()=>t.value&&t.value.length>0&&((o==null?void 0:o.value)||(o==null?void 0:o.value)===0)&&!Number.isNaN(o==null?void 0:o.value)&&t.value[(o==null?void 0:o.value)??-1]===e.value||!t.value),a=B(()=>{var d;return((d=t.value)==null?void 0:d.findIndex(x=>x===e.value))??null}),f=B(()=>{var d;return((d=t.value)==null?void 0:d.map(x=>{const h=typeof x=="string";let w=0;if(h&&(w=Number.parseInt(x,10)),F(c.value)){const P=h?w:s.value?x*s.value.innerHeight:0;return s.value?c.value==="bottom"?s.value.innerHeight-P:-s.value.innerHeight+P:P}const E=h?w:s.value?x*s.value.innerWidth:0;return s.value?c.value==="right"?s.value.innerWidth-E:-s.value.innerWidth+E:E}))??[]}),k=B(()=>{var d;return a.value!==null?(d=f.value)==null?void 0:d[a.value]:null}),m=d=>{var x,h,w,E;const P=((x=f.value)==null?void 0:x.findIndex(K=>K===d))??null;oe(()=>{var K;u(P,f.value),M((K=r.value)==null?void 0:K.$el,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:F(c.value)?`translate3d(0, ${d}px, 0)`:`translate3d(${d}px, 0, 0)`})}),f.value&&P!==f.value.length-1&&P!==(o==null?void 0:o.value)?M((h=n.value)==null?void 0:h.$el,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"0"}):M((w=n.value)==null?void 0:w.$el,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),e.value=P!==null?((E=t.value)==null?void 0:E[P])??null:null};X([e,f,t],()=>{var d;if(e.value){const x=((d=t.value)==null?void 0:d.findIndex(h=>h===e.value))??-1;f.value&&x!==-1&&typeof f.value[x]=="number"&&m(f.value[x])}},{immediate:!0});function b({draggedDistance:d,closeDrawer:x,velocity:h,dismissible:w}){var E,P,K;if(o.value===void 0)return;const le=c.value==="bottom"||c.value==="right"?(k.value??0)-d:(k.value??0)+d,ke=a.value===o.value-1,ce=a.value===0,ae=d>0;if(ke&&M((E=n.value)==null?void 0:E.$el,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),h>2&&!ae){w?x():m(f.value[0]);return}if(h>2&&ae&&f&&t.value){m(f.value[t.value.length-1]);return}const ge=(P=f.value)==null?void 0:P.reduce((J,$)=>typeof J!="number"||typeof $!="number"?J:Math.abs($-le)<Math.abs(J-le)?$:J),pe=F(c.value)?window.innerHeight:window.innerWidth;if(h>At&&Math.abs(d)<pe*.4){const J=ae?1:-1;if(J>0&&g){m(f.value[(((K=t.value)==null?void 0:K.length)??0)-1]);return}if(ce&&J<0&&w&&x(),a.value===null)return;m(f.value[a.value+J]);return}m(ge)}function _({draggedDistance:d}){var x;if(k.value===null)return;const h=c.value==="bottom"||c.value==="right"?k.value-d:k.value+d;(c.value==="bottom"||c.value==="right")&&h<f.value[f.value.length-1]||(c.value==="top"||c.value==="left")&&h>f.value[f.value.length-1]||M((x=r.value)==null?void 0:x.$el,{transform:F(c.value)?`translate3d(0, ${h}px, 0)`:`translate3d(${h}px, 0, 0)`})}function i(d,x){if(!t.value||typeof a.value!="number"||!f.value||o.value===void 0)return null;const h=a.value===o.value-1;if(a.value>=o.value&&x)return 0;if(h&&!x)return 1;if(!v.value&&!h)return null;const w=h?a.value+1:a.value-1,E=h?f.value[w]-f.value[w-1]:f.value[w+1]-f.value[w],P=d/Math.abs(E);return h?1-P:P}return{isLastSnapPoint:g,shouldFade:v,getPercentageDragged:i,activeSnapPointIndex:a,onRelease:b,onDrag:_,snapPointsOffset:f}}function vt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}let be=null;function $r(e){const{isOpen:t,modal:r,nested:n,hasBeenOpened:o,preventScrollRestoration:u,noBodyStyles:c}=e,s=D(typeof window<"u"?window.location.href:""),p=D(0);function g(){if(vt()&&be===null&&t.value&&!c.value){be={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:a,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-p.value}px`,left:`${-a}px`,right:"0px",height:"auto"}),setTimeout(()=>{requestAnimationFrame(()=>{const k=f-window.innerHeight;k&&p.value>=f&&(document.body.style.top=`-${p.value+k}px`)})},300)}}function v(){if(vt()&&be!==null&&!c.value){const a=-Number.parseInt(document.body.style.top,10),f=-Number.parseInt(document.body.style.left,10);Object.assign(document.body.style,be),window.requestAnimationFrame(()=>{if(u.value&&s.value!==window.location.href){s.value=window.location.href;return}window.scrollTo(f,a)}),be=null}}return Be(()=>{function a(){p.value=window.scrollY}a(),window.addEventListener("scroll",a),We(()=>{window.removeEventListener("scroll",a)})}),X([t,o,s],()=>{n.value||!o.value||(t.value?(window.matchMedia("(display-mode: standalone)").matches||g(),r.value||setTimeout(()=>{v()},500)):v())}),{restorePositionSetting:v}}function Sr(e,t){return e&&e.value?e:t}function Pr(e){const{emitDrag:t,emitRelease:r,emitClose:n,emitOpenChange:o,open:u,dismissible:c,nested:s,modal:p,shouldScaleBackground:g,setBackgroundColorOnScale:v,scrollLockTimeout:a,closeThreshold:f,activeSnapPoint:k,fadeFromIndex:m,direction:b,noBodyStyles:_,handleOnly:i,preventScrollRestoration:d}=e,x=D(u.value??!1),h=D(!1),w=D(!1),E=D(!1),P=D(null),K=D(null),le=D(null),ke=D(null),ce=D(null),ae=D(!1),ge=D(null),pe=D(0),J=D(!1);D(0);const $=D(null);D(0);const Ye=B(()=>{var O;return((O=$.value)==null?void 0:O.$el.getBoundingClientRect().height)||0}),H=Sr(e.snapPoints,D(void 0)),It=B(()=>{var O;return H&&(((O=H.value)==null?void 0:O.length)??0)>0}),Ft=D(null),{activeSnapPointIndex:Ge,onRelease:Rt,snapPointsOffset:Nt,onDrag:Mt,shouldFade:Xe,getPercentageDragged:qt}=Er({snapPoints:H,activeSnapPoint:k,drawerRef:$,fadeFromIndex:m,overlayRef:P,onSnapPointChange:Lt,direction:b});function Lt(O,I){H.value&&O===I.length-1&&(K.value=new Date)}$r({isOpen:x,modal:p,nested:s,hasBeenOpened:h,noBodyStyles:_,preventScrollRestoration:d});function _e(){return(window.innerWidth-Ct)/window.innerWidth}function Je(O,I){var N;if(!O)return!1;let A=O;const L=(N=window.getSelection())==null?void 0:N.toString(),j=$.value?Te($.value.$el,b.value):null,Y=new Date;if(A.hasAttribute("data-vaul-no-drag")||A.closest("[data-vaul-no-drag]"))return!1;if(b.value==="right"||b.value==="left")return!0;if(K.value&&Y.getTime()-K.value.getTime()<500)return!1;if(j!==null&&(b.value==="bottom"?j>0:j<0))return!0;if(L&&L.length>0)return!1;if(ce.value&&Y.getTime()-ce.value.getTime()<a.value&&j===0||I)return ce.value=Y,!1;for(;A;){if(A.scrollHeight>A.clientHeight){if(A.scrollTop!==0)return ce.value=new Date,!1;if(A.getAttribute("role")==="dialog")return!0}A=A.parentNode}return!0}function Ut(O){!c.value&&!H.value||$.value&&!$.value.$el.contains(O.target)||(w.value=!0,le.value=new Date,O.target.setPointerCapture(O.pointerId),pe.value=F(b.value)?O.clientY:O.clientX)}function Wt(O){var I,N,A,L,j,Y;if($.value&&w.value){const ve=b.value==="bottom"||b.value==="right"?1:-1,Oe=(pe.value-(F(b.value)?O.clientY:O.clientX))*ve,De=Oe>0,Qe=H.value&&!c.value&&!De;if(Qe&&Ge.value===0)return;const Ie=Math.abs(Oe),et=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");let ie=Ie/Ye.value;const tt=qt(Ie,De);if(tt!==null&&(ie=tt),Qe&&ie>=1||!ae.value&&!Je(O.target,De))return;if((I=$==null?void 0:$.value)==null||I.$el.classList.add(pt),ae.value=!0,M((N=$.value)==null?void 0:N.$el,{transition:"none"}),M((A=P.value)==null?void 0:A.$el,{transition:"none"}),H.value&&Mt({draggedDistance:Oe}),De&&!H.value){const ue=kr(Oe),Ee=Math.min(ue*-1,0)*ve;M((L=$.value)==null?void 0:L.$el,{transform:F(b.value)?`translate3d(0, ${Ee}px, 0)`:`translate3d(${Ee}px, 0, 0)`});return}const Kt=1-ie;if((Xe.value||m.value&&Ge.value===m.value-1)&&(t(ie),M((j=P.value)==null?void 0:j.$el,{opacity:`${Kt}`,transition:"none"},!0)),et&&P.value&&g.value){const ue=Math.min(_e()+ie*(1-_e()),1),Ee=8-ie*8,at=Math.max(0,14-ie*14);M(et,{borderRadius:`${Ee}px`,transform:F(b.value)?`scale(${ue}) translate3d(0, ${at}px, 0)`:`scale(${ue}) translate3d(${at}px, 0, 0)`,transition:"none"},!0)}if(!H.value){const ue=Ie*ve;M((Y=$.value)==null?void 0:Y.$el,{transform:F(b.value)?`translate3d(0, ${ue}px, 0)`:`translate3d(${ue}px, 0, 0)`})}}}function Ze(){var O;if(!$.value)return;const I=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]"),N=Te($.value.$el,b.value);M($.value.$el,{transform:"translate3d(0, 0, 0)",transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),M((O=P.value)==null?void 0:O.$el,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),g.value&&N&&N>0&&x.value&&M(I,{borderRadius:`${Tt}px`,overflow:"hidden",...F(b.value)?{transform:`scale(${_e()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${_e()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`},!0)}function ye(O){$.value&&(n(),O||(x.value=!1),window.setTimeout(()=>{H.value&&(k.value=H.value[0])},C.DURATION*1e3))}ee(()=>{if(!x.value&&g.value&&yr){const O=setTimeout(()=>{xr(document.body)},200);return()=>clearTimeout(O)}}),X(u,()=>{x.value=u.value,u.value||ye()});function jt(O){if(!w.value||!$.value)return;$.value.$el.classList.remove(pt),ae.value=!1,w.value=!1,ke.value=new Date;const I=Te($.value.$el,b.value);if(!Je(O.target,!1)||!I||Number.isNaN(I)||le.value===null)return;const N=ke.value.getTime()-le.value.getTime(),A=pe.value-(F(b.value)?O.clientY:O.clientX),L=Math.abs(A)/N;if(L>.05&&(E.value=!0,window.setTimeout(()=>{E.value=!1},200)),H.value){const Y=b.value==="bottom"||b.value==="right"?1:-1;Rt({draggedDistance:A*Y,closeDrawer:ye,velocity:L,dismissible:c.value}),r(!0);return}if(b.value==="bottom"||b.value==="right"?A>0:A<0){Ze(),r(!0);return}if(L>At){ye(),r(!1);return}const j=Math.min($.value.$el.getBoundingClientRect().height??0,window.innerHeight);if(I>=j*f.value){ye(),r(!1);return}r(!0),Ze()}X(x,O=>{O&&(K.value=new Date),o(O)},{immediate:!0});function Ht(O){var I,N;const A=O?(window.innerWidth-Ce)/window.innerWidth:1,L=O?-16:0;ge.value&&window.clearTimeout(ge.value),M((I=$.value)==null?void 0:I.$el,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:`scale(${A}) translate3d(0, ${L}px, 0)`}),!O&&(N=$.value)!=null&&N.$el&&(ge.value=window.setTimeout(()=>{var j,Y;const ve=Te((j=$.value)==null?void 0:j.$el,b.value);M((Y=$.value)==null?void 0:Y.$el,{transition:"none",transform:F(b.value)?`translate3d(0, ${ve}px, 0)`:`translate3d(${ve}px, 0, 0)`})},500))}function zt(O){var I;if(O<0)return;const N=F(b.value)?window.innerHeight:window.innerWidth,A=(N-Ce)/N,L=A+O*(1-A),j=-16+O*Ce;M((I=$.value)==null?void 0:I.$el,{transform:F(b.value)?`scale(${L}) translate3d(0, ${j}px, 0)`:`scale(${L}) translate3d(${j}px, 0, 0)`,transition:"none"})}function Vt(O){var I;const N=F(b.value)?window.innerHeight:window.innerWidth,A=O?(N-Ce)/N:1,L=O?-16:0;O&&M((I=$.value)==null?void 0:I.$el,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:F(b.value)?`scale(${A}) translate3d(0, ${L}px, 0)`:`scale(${A}) translate3d(${L}px, 0, 0)`})}return{open:u,isOpen:x,modal:p,keyboardIsOpen:J,hasBeenOpened:h,drawerRef:$,drawerHeightRef:Ye,overlayRef:P,handleRef:Ft,isDragging:w,dragStartTime:le,isAllowedToDrag:ae,snapPoints:H,activeSnapPoint:k,hasSnapPoints:It,pointerStart:pe,dismissible:c,snapPointsOffset:Nt,direction:b,shouldFade:Xe,fadeFromIndex:m,shouldScaleBackground:g,setBackgroundColorOnScale:v,onPress:Ut,onDrag:Wt,onRelease:jt,closeDrawer:ye,onNestedDrag:zt,onNestedRelease:Vt,onNestedOpenChange:Ht,emitClose:n,emitDrag:t,emitRelease:r,emitOpenChange:o,nested:s,handleOnly:i,noBodyStyles:_}}const Ar=q({__name:"DrawerRoot",props:{activeSnapPoint:{default:void 0},closeThreshold:{default:Or},shouldScaleBackground:{type:Boolean,default:void 0},setBackgroundColorOnScale:{type:Boolean,default:!0},scrollLockTimeout:{default:Dr},fixed:{type:Boolean,default:void 0},dismissible:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},nested:{type:Boolean,default:!1},direction:{default:"bottom"},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean,default:!1},preventScrollRestoration:{type:Boolean},snapPoints:{default:void 0},fadeFromIndex:{default:void 0}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(e,{expose:t,emit:r}){const n=e,o=r;Qt();const u=B(()=>n.fadeFromIndex??(n.snapPoints&&n.snapPoints.length-1)),c=ct(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),s=ct(n,"activeSnapPoint",o,{passive:n.activeSnapPoint===void 0}),p={emitDrag:m=>o("drag",m),emitRelease:m=>o("release",m),emitClose:()=>o("close"),emitOpenChange:m=>{o("update:open",m),setTimeout(()=>{o("animationEnd",m)},C.DURATION*1e3)}},{closeDrawer:g,hasBeenOpened:v,modal:a,isOpen:f}=wr(Pr({...p,...je(n),activeSnapPoint:s,fadeFromIndex:u,open:c}));function k(m){if(c.value!==void 0){p.emitOpenChange(m);return}f.value=m,m?v.value=!0:g()}return t({open:f}),(m,b)=>(S(),R(y(qa),{open:y(f),modal:y(a),"onUpdate:open":k},{default:T(()=>[W(m.$slots,"default",{open:y(f)})]),_:3},8,["open","modal"]))}}),Tr=q({__name:"DrawerOverlay",setup(e){const{overlayRef:t,hasSnapPoints:r,isOpen:n,shouldFade:o}=Ke();return(u,c)=>(S(),R(y(pr),{ref_key:"overlayRef",ref:t,"data-vaul-overlay":"","data-vaul-snap-points":y(n)&&y(r)?"true":"false","data-vaul-snap-points-overlay":y(n)&&y(o)?"true":"false"},null,8,["data-vaul-snap-points","data-vaul-snap-points-overlay"]))}}),Cr=()=>()=>{};function Br(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:o}=Ke(),u=D(null),c=D(document.body.style.backgroundColor);function s(){return(window.innerWidth-Ct)/window.innerWidth}ee(p=>{if(t.value&&r.value){u.value&&clearTimeout(u.value);const g=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!g)return;_r(n.value&&!o.value?Le(document.body,{background:"black"}):Cr,Le(g,{transformOrigin:F(e.value)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`}));const v=Le(g,{borderRadius:`${Tt}px`,overflow:"hidden",...F(e.value)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});p(()=>{v(),u.value=window.setTimeout(()=>{c.value?document.body.style.background=c.value:document.body.style.removeProperty("background")},C.DURATION*1e3)})}},{flush:"pre"})}const Ir=q({__name:"DrawerContent",setup(e){const{open:t,isOpen:r,snapPointsOffset:n,hasSnapPoints:o,drawerRef:u,onPress:c,onDrag:s,onRelease:p,modal:g,emitOpenChange:v,dismissible:a,keyboardIsOpen:f,closeDrawer:k,direction:m,handleOnly:b}=Ke();Br();const _=D(!1),i=B(()=>n.value&&n.value.length>0?`${n.value[0]}px`:"0");function d(w){if(!g.value||w.defaultPrevented){w.preventDefault();return}f.value&&(f.value=!1),a.value?v(!1):w.preventDefault()}function x(w){b.value||c(w)}function h(w){b.value||s(w)}return ee(()=>{o.value&&window.requestAnimationFrame(()=>{_.value=!0})}),(w,E)=>(S(),R(y(ir),{ref_key:"drawerRef",ref:u,"data-vaul-drawer":"","data-vaul-drawer-direction":y(m),"data-vaul-delayed-snap-points":_.value?"true":"false","data-vaul-snap-points":y(r)&&y(o)?"true":"false",style:gt({"--snap-point-height":i.value}),onPointerdown:x,onPointermove:h,onPointerup:y(p),onPointerDownOutside:d,onOpenAutoFocus:E[0]||(E[0]=yt(()=>{},["prevent"])),onEscapeKeyDown:E[1]||(E[1]=P=>{y(a)||P.preventDefault()})},{default:T(()=>[W(w.$slots,"default")]),_:3},8,["data-vaul-drawer-direction","data-vaul-delayed-snap-points","data-vaul-snap-points","style","onPointerup"]))}}),Fr=q({__name:"Drawer",props:{activeSnapPoint:{},closeThreshold:{},shouldScaleBackground:{type:Boolean,default:!0},setBackgroundColorOnScale:{type:Boolean},scrollLockTimeout:{},fixed:{type:Boolean},dismissible:{type:Boolean},modal:{type:Boolean},open:{type:Boolean},defaultOpen:{type:Boolean},nested:{type:Boolean},direction:{},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean},preventScrollRestoration:{type:Boolean},snapPoints:{},fadeFromIndex:{}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(e,{emit:t}){const o=ht(e,t);return(u,c)=>(S(),R(y(Ar),te({"data-slot":"drawer"},y(o)),{default:T(()=>[W(u.$slots,"default")]),_:3},16))}}),Bt=q({__name:"DrawerOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,r=fa(t,"class");return(n,o)=>(S(),R(y(Tr),te({"data-slot":"drawer-overlay"},y(r),{class:y(wt)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t.class)}),null,16,["class"]))}}),Rr=q({__name:"DrawerContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const r=e,o=ht(r,t);return(u,c)=>(S(),R(y(gr),null,{default:T(()=>[G(Bt),G(y(Ir),te({"data-slot":"drawer-content"},y(o),{class:y(wt)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:sm:max-w-sm",r.class)}),{default:T(()=>[c[0]||(c[0]=l("div",{class:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"},null,-1)),W(u.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Nr={class:"flex-1 overflow-y-auto px-4 pb-4 pt-22"},Mr={class:"space-y-6"},qr={class:"space-y-3 text-sm text-gray-600 dark:text-gray-400"},Lr={class:"border-b border-gray-200 dark:border-gray-700 pb-2"},Ur={class:"border-b border-gray-200 dark:border-gray-700 pb-2"},Wr={class:"border-b border-gray-200 dark:border-gray-700 pb-2"},jr={class:"border-b border-gray-200 dark:border-gray-700 pb-2"},Hr={class:"border-b border-gray-200 dark:border-gray-700 pb-2"},zr={class:"border-b border-gray-200 dark:border-gray-700 pb-2"},Vr={class:"border-b border-gray-200 dark:border-gray-700 pb-2"},Kr={class:"border-b border-gray-200 dark:border-gray-700 pb-2"},Yr={class:"border-b border-gray-200 dark:border-gray-700 pb-2"},Gr={class:"pb-2"},Xr={__name:"scopeHelper",props:{isOpen:{type:Boolean,default:!1}},emits:["update:isOpen"],setup(e,{emit:t}){const r=e,n=t,o=B({get:()=>r.isOpen,set:c=>n("update:isOpen",c)}),u=async c=>{try{await navigator.clipboard.writeText(c),U.success("权限标识已复制到剪贴板",{description:c})}catch(s){console.error("复制失败:",s),U.error("复制失败",{description:"请手动复制权限标识"})}};return(c,s)=>(S(),R(y(Fr),{open:o.value,"onUpdate:open":s[10]||(s[10]=p=>o.value=p),direction:"right"},{default:T(()=>[G(y(Bt),{class:"bg-black/5"}),G(y(Rr),{class:"max-w-4xl"},{default:T(()=>[l("div",Nr,[l("div",Mr,[s[22]||(s[22]=l("div",null,[l("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-2"}," 什么是权限类型（Scopes）？ "),l("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," 权限类型定义了您的应用程序可以访问哪些数据和执行哪些操作。不同的平台有不同的权限类型。 ")],-1)),s[23]||(s[23]=l("div",null,[l("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-2"}," 输入格式 "),l("div",{class:"rounded-lg p-3"},[l("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"}," 多个权限用逗号分隔： "),l("code",{class:"text-sm text-blue-600 dark:text-blue-400"}," email,pages_read_engagement,pages_show_list ")])],-1)),l("div",null,[s[21]||(s[21]=l("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-3"}," Facebook 权限类型 ",-1)),l("div",qr,[l("div",Lr,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[0]||(s[0]=p=>u("business_management"))}," business_management "),s[11]||(s[11]=l("div",{class:"text-xs"},"business_management 权限允许您的应用使用商务管理平台 API 执行读取和写入操作。",-1))]),l("div",Ur,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[1]||(s[1]=p=>u("email"))}," email "),s[12]||(s[12]=l("div",{class:"text-xs"},"email 权限允许您的应用读取用户的首选邮箱。",-1))]),l("div",Wr,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[2]||(s[2]=p=>u("pages_manage_engagement"))}," pages_manage_engagement "),s[13]||(s[13]=l("div",{class:"text-xs"},"pages_manage_engagement 权限允许您的应用创建、编辑和删除发布到公共主页上的评论。",-1))]),l("div",jr,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[3]||(s[3]=p=>u("pages_manage_metadata"))}," pages_manage_metadata "),s[14]||(s[14]=l("div",{class:"text-xs"},"pages_manage_metadata 权限允许您的应用订阅和接收有关公共主页动态的Webhook，以及配置信息。",-1))]),l("div",Hr,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[4]||(s[4]=p=>u("pages_manage_posts"))}," pages_manage_posts "),s[15]||(s[15]=l("div",{class:"text-xs"},"pages_manage_posts 权限允许您的应用创建、编辑和删除您的公共主页帖子。",-1))]),l("div",zr,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[5]||(s[5]=p=>u("pages_read_engagement"))}," pages_read_engagement "),s[16]||(s[16]=l("div",{class:"text-xs"},"pages_read_engagement 权限允许您的应用读取下列内容和数据：公共主页发布的内容(帖子、动态)、粉丝数据(包括粉丝的姓名、公共主页范围编号)和头像，以及有关公共主页的元数据。",-1))]),l("div",Vr,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[6]||(s[6]=p=>u("pages_read_user_content"))}," pages_read_user_content "),s[17]||(s[17]=l("div",{class:"text-xs"},"pages_read_user_content 权限允许您的应用读取公共主页中的用户生成内容(例如用户或其他公共主页发布的帖子、评论和评分)，以及删除公共主页帖子的用户评论。",-1))]),l("div",Kr,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[7]||(s[7]=p=>u("pages_show_list"))}," pages_show_list "),s[18]||(s[18]=l("div",{class:"text-xs"},"pages_show_list 权限允许您的应用访问用户管理的公共主页列表。",-1))]),l("div",Yr,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[8]||(s[8]=p=>u("public_profile"))}," public_profile "),s[19]||(s[19]=l("div",{class:"text-xs"},"public_profile(公开资料)权限允许应用读取User (用户) 节点的 Default Public Profile Fields (默认的公开资料字段)。系统将自动授予所有应用此权限。",-1))]),l("div",Gr,[l("div",{class:"font-medium text-gray-800 dark:text-gray-200 mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:s[9]||(s[9]=p=>u("read_insights"))}," read_insights "),s[20]||(s[20]=l("div",{class:"text-xs"},"read_insights 权限允许您的应用读取用户拥有的公共主页、应用和网域的成效分析数据。",-1))])])])])])]),_:1})]),_:1},8,["open"]))}},Jr=xt(Xr,[["__scopeId","data-v-736ba883"]]),Zr={class:"space-y-5 sm:space-y-6"},Qr={class:"space-y-6"},en={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},tn=["value"],an={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},rn={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},nn={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},on={class:"sm:col-span-2"},sn={class:"flex items-center gap-2 mb-1.5"},ln={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},un={key:0},dn={class:"space-y-6"},cn={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},pn=["readonly"],vn={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},fn={key:0,class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},mn=["required"],gn=["value"],yn={class:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700"},bn={key:0,class:"mr-2"},hn={__name:"Form",setup(e){const t=ta(),r=aa(),n=D(!1),o=D([]),u=B(()=>!!t.query.id),c=D(!1),s=B(()=>u.value?"编辑平台账户配置":"新增平台账户配置"),p=JSON.parse(localStorage.getItem("profile")||"{}"),g=(p==null?void 0:p.id)||(p==null?void 0:p.user_id)||"",v=B(()=>p&&(p.is_superuser||p.is_staff)),a=D({provider:"",name:"",is_default:"",api_version:"",redirect_uris:"",app_id:"",app_secret:"",bearer_token:"",scopes:"",external_username:"",external_user_id:"",access_token:"",refresh_token:"",owner:""}),f=async()=>{var _,i;if(!a.value.provider){U.error("请选择平台");return}if(!a.value.name){U.error("请填写项目名称");return}if(!a.value.is_default){U.error("请选择是否默认");return}if(!a.value.api_version){U.error("请填写API版本");return}if(!a.value.app_id){U.error("请填写App ID或Client ID");return}if(!a.value.app_secret){U.error("请填写App密钥或Client Secret");return}if(!a.value.bearer_token&&a.value.provider!=="twitter"){U.error("请填写读取使用Token");return}if(!a.value.external_username){U.error("请填写用户名");return}if(v.value&&!a.value.owner){U.error("请选择所属用户");return}if(!a.value.access_token){U.error("请填写输入Token");return}if(!a.value.refresh_token){U.error("请填写输入密钥");return}n.value=!0;try{console.log("提交表单数据:",a.value);const d={provider:a.value.provider,name:a.value.name,is_default:a.value.is_default==="true",api_version:a.value.api_version,bearer_token:a.value.bearer_token,scopes:a.value.scopes?a.value.scopes.split(",").map(h=>h.trim()).filter(h=>h):[]};a.value.provider==="twitter"?d.client_id=a.value.app_id:d.app_id=a.value.app_id,d.client_secret=a.value.app_secret,d.app_secret=a.value.app_secret;const x={external_username:a.value.external_username,external_user_id:a.value.external_user_id,access_token:a.value.access_token,refresh_token:a.value.refresh_token,owner:v.value?a.value.owner:g};if(u.value){const h=String(t.query.id||""),w=String(t.query.config||"");await ba(w,d);const E={...x,provider:a.value.provider};await ha(h,E),U.success("配置更新成功")}else{const h=await wa(d),w={...x,config:h.id,provider:a.value.provider};await xa(w),U.success("配置创建成功")}r.push("/platform-accounts")}catch(d){console.error("保存失败:",d),U.error("保存失败",{description:((i=(_=d.response)==null?void 0:_.data)==null?void 0:i.message)||d.message||(u.value?"更新配置时发生错误":"创建配置时发生错误")})}finally{n.value=!1}},k=()=>{r.push("/platform-accounts")},m=async()=>{try{const _=await ka({page:1,page_size:100}),i=(_==null?void 0:_.results)||_||[];o.value=i}catch(_){console.error("获取用户列表失败:",_)}},b=async()=>{var d,x;if(!u.value)return;const _=String(t.query.id||""),i=String(t.query.config||"");n.value=!0;try{const[h,w]=await Promise.all([_?ga(_):Promise.resolve(null),i?ya(i):Promise.resolve(null)]);w&&(a.value.provider=w.provider||"",a.value.name=w.name||"",a.value.is_default=String(!!w.is_default),a.value.api_version=w.api_version||"",a.value.app_id=w.client_id||w.app_id||"",a.value.app_secret=w.client_secret||w.app_secret||"",a.value.bearer_token=w.bearer_token||"",a.value.scopes=Array.isArray(w.scopes)?w.scopes.join(", "):w.scopes||""),h&&(a.value.external_username=h.external_username||"",a.value.external_user_id=h.external_user_id||"",a.value.access_token=h.access_token||"",a.value.refresh_token=h.refresh_token||"",h.owner&&(a.value.owner=h.owner))}catch(h){console.error("加载数据失败:",h),U.error("加载数据失败",{description:((x=(d=h==null?void 0:h.response)==null?void 0:d.data)==null?void 0:x.message)||h.message})}finally{n.value=!1}};return Be(()=>{v.value&&m(),b()}),(_,i)=>(S(),R(ra,null,{default:T(()=>[G(na,{pageTitle:s.value},null,8,["pageTitle"]),l("div",Zr,[G(ma,null,{default:T(()=>[l("form",{onSubmit:yt(f,["prevent"]),class:"space-y-8"},[l("div",Qr,[i[26]||(i[26]=l("div",{class:"border-b border-gray-200 dark:border-gray-700 pb-4"},[l("h4",{class:"text-lg font-medium text-gray-900 dark:text-white"},"平台配置信息"),l("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"配置平台的基本信息和连接参数")],-1)),l("div",en,[l("div",null,[i[16]||(i[16]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" 平台 "),l("span",{class:"text-error-500"},"*")],-1)),z(l("select",{"onUpdate:modelValue":i[0]||(i[0]=d=>a.value.provider=d),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},[i[15]||(i[15]=l("option",{value:""},"请选择平台",-1)),(S(!0),de(rt,null,nt(y(_a),d=>(S(),de("option",{key:d.value,value:d.value},$e(d.label),9,tn))),128))],512),[[Fe,a.value.provider]])]),l("div",null,[i[17]||(i[17]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" 项目名称 "),l("span",{class:"text-error-500"},"*")],-1)),z(l("input",{"onUpdate:modelValue":i[1]||(i[1]=d=>a.value.name=d),type:"text",placeholder:"Project Name / App Name",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},null,512),[[Z,a.value.name]])])]),l("div",an,[l("div",null,[i[19]||(i[19]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" 是否默认 "),l("span",{class:"text-error-500"},"*")],-1)),z(l("select",{"onUpdate:modelValue":i[2]||(i[2]=d=>a.value.is_default=d),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},[...i[18]||(i[18]=[l("option",{value:""},"请选择",-1),l("option",{value:"true"},"是",-1),l("option",{value:"false"},"否",-1)])],512),[[Fe,a.value.is_default]])]),l("div",null,[i[20]||(i[20]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" API版本 "),l("span",{class:"text-error-500"},"*")],-1)),z(l("input",{"onUpdate:modelValue":i[3]||(i[3]=d=>a.value.api_version=d),type:"text",placeholder:"x: Default 1.1, other:Graph API Version",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},null,512),[[Z,a.value.api_version]])])]),l("div",rn,[l("div",null,[i[21]||(i[21]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" App ID "),l("span",{class:"text-error-500"},"*")],-1)),z(l("input",{"onUpdate:modelValue":i[4]||(i[4]=d=>a.value.app_id=d),type:"text",placeholder:"x: Client ID, other: App ID",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},null,512),[[Z,a.value.app_id]])]),l("div",null,[i[22]||(i[22]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" App 密钥 "),l("span",{class:"text-error-500"},"*")],-1)),z(l("input",{"onUpdate:modelValue":i[5]||(i[5]=d=>a.value.app_secret=d),type:"password",placeholder:"x: API Secret Key, other: App Secret",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},null,512),[[Z,a.value.app_secret]])])]),l("div",nn,[l("div",on,[l("div",sn,[i[24]||(i[24]=l("label",{class:"text-sm font-bold text-black dark:text-white"}," 权限类型 ",-1)),l("button",{type:"button",onClick:i[6]||(i[6]=d=>c.value=!0),class:"flex items-center justify-center w-4 h-4 rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 transition-colors",title:"查看权限类型说明"},[...i[23]||(i[23]=[l("svg",{class:"w-3 h-3 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])])]),z(l("input",{"onUpdate:modelValue":i[7]||(i[7]=d=>a.value.scopes=d),type:"text",placeholder:"多个权限以逗号分隔，如：read,write,admin",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[Z,a.value.scopes]])])]),l("div",ln,[a.value.provider!=="twitter"?(S(),de("div",un,[i[25]||(i[25]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" 读取使用Token "),l("span",{class:"text-error-500"},"*")],-1)),z(l("input",{"onUpdate:modelValue":i[8]||(i[8]=d=>a.value.bearer_token=d),type:"password",placeholder:"App Token",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},null,512),[[Z,a.value.bearer_token]])])):we("",!0)])]),l("div",dn,[i[33]||(i[33]=l("div",{class:"border-b border-gray-200 dark:border-gray-700 pb-4"},[l("h4",{class:"text-lg font-medium text-gray-900 dark:text-white"},"用户信息"),l("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"配置用户相关的信息和权限设置")],-1)),l("div",cn,[l("div",null,[i[27]||(i[27]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" 用户名 "),l("span",{class:"text-error-500"},"*")],-1)),z(l("input",{"onUpdate:modelValue":i[9]||(i[9]=d=>a.value.external_username=d),type:"text",placeholder:"x: Screen Name, other: Username",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},null,512),[[Z,a.value.external_username]])]),l("div",null,[i[28]||(i[28]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"}," 账户UID ",-1)),z(l("input",{"onUpdate:modelValue":i[10]||(i[10]=d=>a.value.external_user_id=d),type:"text",placeholder:"x: User ID, fb: ID, ins: Instagram Business Account ID",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",readonly:a.value.provider==="twitter"},null,8,pn),[[Z,a.value.external_user_id]])])]),l("div",vn,[l("div",null,[i[29]||(i[29]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" 输入Token "),l("span",{class:"text-error-500"},"*")],-1)),z(l("input",{"onUpdate:modelValue":i[11]||(i[11]=d=>a.value.access_token=d),type:"password",placeholder:"x: Access Token, fb: User Access Token, ins: Page Access Token (Graph API)",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},null,512),[[Z,a.value.access_token]])]),l("div",null,[i[30]||(i[30]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" 输入密钥 "),l("span",{class:"text-error-500"},"*")],-1)),z(l("input",{"onUpdate:modelValue":i[12]||(i[12]=d=>a.value.refresh_token=d),type:"password",placeholder:"x: Access Token Secret, other: Refresh Token",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:""},null,512),[[Z,a.value.refresh_token]])])]),v.value?(S(),de("div",fn,[l("div",null,[i[32]||(i[32]=l("label",{class:"mb-1.5 block text-sm font-bold text-black dark:text-white"},[V(" 所属用户 "),l("span",{class:"text-error-500"},"*")],-1)),z(l("select",{"onUpdate:modelValue":i[13]||(i[13]=d=>a.value.owner=d),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:v.value},[i[31]||(i[31]=l("option",{value:""},"请选择所属用户",-1)),(S(!0),de(rt,null,nt(o.value,d=>(S(),de("option",{key:d.id,value:d.id},$e(d.username)+" ("+$e(d.email)+") ",9,gn))),128))],8,mn),[[Fe,a.value.owner]])])])):we("",!0)]),l("div",yn,[G(st,{type:"button",variant:"outline",onClick:k,disabled:n.value},{default:T(()=>[...i[34]||(i[34]=[V(" 取消 ",-1)])]),_:1},8,["disabled"]),G(st,{type:"submit",disabled:n.value},{default:T(()=>[n.value?(S(),de("span",bn,"保存中...")):we("",!0),V(" "+$e(u.value?"更新配置":"创建配置"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),G(Jr,{isOpen:c.value,"onUpdate:isOpen":i[14]||(i[14]=d=>c.value=d)},null,8,["isOpen"])]),_:1}))}},An=xt(hn,[["__scopeId","data-v-7bbe1dee"]]);export{An as default};
